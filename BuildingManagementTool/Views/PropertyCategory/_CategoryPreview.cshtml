@model CategoryPreviewViewModel

@if (Model.CategoryDocuments[Model.PropertyCategory.PropertyCategoryId].Any(document => document.IsActiveNote))
{
    @foreach (var document in Model.CategoryDocuments[Model.PropertyCategory.PropertyCategoryId].Where(d => d.IsActiveNote))
    {

    
        <p class="fw-bold mt-1">
            @(document.Note.Length > 30 ? document.Note.Substring(0, 25) + "..." : document.Note)
        </p>
        <div style="display:flex">
            <img src="@document.FileImageUrl" alt="Document Thumbnail" class="img-fluid" style="height:30px; width:auto;" />

            <p class="mt-0 mb-0">
                @(document.FileName.Length > 25 ? document.FileName.Substring(0, 25) + "..." : document.FileName)
            </p>
        </div>
    }

}

        @if (!Model.CategoryDocuments.ContainsKey(Model.PropertyCategory.PropertyCategoryId) ||
        !Model.CategoryDocuments[Model.PropertyCategory.PropertyCategoryId].Any())
        {
    <p class="mt-4">No documents available for this category.</p>
}

        else
{
  
        <p >@Model.CategoryDocuments[Model.PropertyCategory.PropertyCategoryId].Count() More document(s)</p>
        <p >Click to see more.</p>
    



        }
